muxes:
  - name: "OutMux"
    pins:
      - 0
      - 1
      - 2
      - 3
    default: 15
  - name: "LoadMux"
    pins:
      - 4
      - 5
      - 6
      - 7
    default: 15
  - name: "AluArgL"
    pins:
      - 8
      - 9
    default: 4
  - name: "AluArgR"
    pins:
      - 10
      - 11
      - 12
    default: 6
  - name: "AddrOutMux"
    pins:
      - 16
      - 17
      - 18
    default: 7
  - name: "AddrLoadMux"
    pins:
      - 19
      - 20
      - 21
    default: 7
shared_pins:
  - name: "Alu.alt"
    level: "HIGH"
    pin: 13
  - name: "Addr.inc"
    level: "LOW"
    pin: 22
  - name: "Addr.dec"
    level: "LOW"
    pin: 23
devices:
  - name: "A"
    type: "GPRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 0
      load:
        mux: "LoadMux"
        pin: 0
      alu_l:
        mux: "AluArgL"
        pin: 0
      alu_r:
        mux: "AluArgR"
        pin: 0
  - name: "B"
    type: "GPRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 1
      load:
        mux: "LoadMux"
        pin: 1
      alu_l:
        mux: "AluArgL"
        pin: 1
      alu_r:
        mux: "AluArgR"
        pin: 1
  - name: "C"
    type: "GPRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 2
      load:
        mux: "LoadMux"
        pin: 2
      alu_l:
        mux: "AluArgL"
        pin: 2
      alu_r:
        mux: "AluArgR"
        pin: 2
  - name: "D"
    type: "GPRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 3
      load:
        mux: "LoadMux"
        pin: 3
      alu_l:
        mux: "AluArgL"
        pin: 3
      alu_r:
        mux: "AluArgR"
        pin: 3
  - name: "AddSub"
    type: "ALU"
    pins:
      out:
        mux: "OutMux"
        pin: 5
      alt:
        pin: "Alu.alt"
  - name: "AndOr"
    type: "ALU"
    pins:
      out:
        mux: "OutMux"
        pin: 6
      alt:
        pin: "Alu.alt"
  - name: "XorNot"
    type: "ALU"
    pins:
      out:
        mux: "OutMux"
        pin: 10
      alt:
        pin: "Alu.alt"
  - name: "ShiftSwap"
    type: "ALU"
    pins:
      out:
        mux: "OutMux"
        pin: 7
      alt:
        pin: "Alu.alt"
  - name: "F"
    type: "FlagsRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 4
      load:
        mux: "LoadMux"
        pin: 7
      calc:
        pin: 14
        level: "LOW"
      carry:
        pin: 15
        level: "HIGH"
  - name: "Ram"
    type: "RAM"
    pins:
      out:
        mux: "OutMux"
        pin: 9
      write:
        mux: "LoadMux"
        pin: 9
  - name: "ProgMem"
    type: "Alias"
    alias_of: "Ram"
  - name: "T"
    type: "TempRegister"
    pins:
      load:
        mux: "LoadMux"
        pin: 6
      alu_r:
        mux: "AluArgR"
        pin: 4
  - name: "IR"
    type: "WORegister"
    pins:
      load:
        mux: "LoadMux"
        pin: 8
  - name: "Clock"
    type: "Clock"
    pins:
      halt:
        pin: 26
        level: "LOW"
      brk:
        pin: 27
        level: "HIGH"
  - name: "StepCounter"
    type: "StepCounter"
    pins:
      reset:
        pin: 24
        level: "LOW"
      extended:
        pin: 25
        level: "LOW"
  - name: "PC"
    type: "ProgramCounter"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 5
      load:
        mux: "AddrLoadMux"
        pin: 5
      inc:
        pin: "Addr.inc"
  - name: "TX"
    type: "TransferRegister"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 0
      load:
        mux: "AddrLoadMux"
        pin: 0
  - name: "TH"
    type: "TransferRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 12
      load:
        mux: "LoadMux"
        pin: 12
  - name: "TL"
    type: "TransferRegister"
    pins:
      out:
        mux: "OutMux"
        pin: 11
      load:
        mux: "LoadMux"
        pin: 11
  - name: "SP"
    type: "StackPointer"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 3
      load:
        mux: "AddrLoadMux"
        pin: 3
      inc:
        pin: "Addr.inc"
      dec:
        pin: "Addr.dec"
  - name: "SDP"
    type: "StackPointer"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 1
      load:
        mux: "AddrLoadMux"
        pin: 1
      inc:
        pin: "Addr.inc"
      dec:
        pin: "Addr.dec"
  - name: "TDP"
    type: "StackPointer"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 6
      load:
        mux: "AddrLoadMux"
        pin: 6
      inc:
        pin: "Addr.inc"
      dec:
        pin: "Addr.dec"
  - name: "LR"
    type: "AddressRegister"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 4
      load:
        mux: "AddrLoadMux"
        pin: 4
  - name: "ACalc"
    type: "AddressCalculator"
    pins:
      out:
        mux: "AddrOutMux"
        pin: 2
      load:
        mux: "AddrLoadMux"
        pin: 2
      signed:
        pin: 28
        level: "HIGH"
  - name: "IOCtl"
    type: "IOController"
    pins:
      laddr:
        mux: "LoadMux"
        pin: 4
      to_dev:
        mux: "LoadMux"
        pin: 5
      from_dev:
        mux: "OutMux"
        pin: 8
