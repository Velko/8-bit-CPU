#ruledef
{
    nop   => 0x00
    ldi  A, {value1} => 0x01 @ value1`8
    ldi  B, {value1} => 0x02 @ value1`8
    ldi  C, {value1} => 0x03 @ value1`8
    ldi  D, {value1} => 0x04 @ value1`8
    ldi_F  {value0} => 0x05 @ value0`8
    hlt   => 0x06
    add  A, A => 0x07
    add  A, B => 0x08
    add  A, C => 0x09
    add  A, D => 0x0a
    add  B, A => 0x0b
    add  B, B => 0x0c
    add  B, C => 0x0d
    add  B, D => 0x0e
    add  C, A => 0x0f
    add  C, B => 0x10
    add  C, C => 0x11
    add  C, D => 0x12
    add  D, A => 0x13
    add  D, B => 0x14
    add  D, C => 0x15
    add  D, D => 0x16
    adc  A, A => 0x17
    adc  A, B => 0x18
    adc  A, C => 0x19
    adc  A, D => 0x1a
    adc  B, A => 0x1b
    adc  B, B => 0x1c
    adc  B, C => 0x1d
    adc  B, D => 0x1e
    adc  C, A => 0x1f
    adc  C, B => 0x20
    adc  C, C => 0x21
    adc  C, D => 0x22
    adc  D, A => 0x23
    adc  D, B => 0x24
    adc  D, C => 0x25
    adc  D, D => 0x26
    sub  A, B => 0x27
    sub  A, C => 0x28
    sub  A, D => 0x29
    sub  B, A => 0x2a
    sub  B, C => 0x2b
    sub  B, D => 0x2c
    sub  C, A => 0x2d
    sub  C, B => 0x2e
    sub  C, D => 0x2f
    sub  D, A => 0x30
    sub  D, B => 0x31
    sub  D, C => 0x32
    sbb  A, B => 0x33
    sbb  A, C => 0x34
    sbb  A, D => 0x35
    sbb  B, A => 0x36
    sbb  B, C => 0x37
    sbb  B, D => 0x38
    sbb  C, A => 0x39
    sbb  C, B => 0x3a
    sbb  C, D => 0x3b
    sbb  D, A => 0x3c
    sbb  D, B => 0x3d
    sbb  D, C => 0x3e
    and  A, B => 0x3f
    and  A, C => 0x40
    and  A, D => 0x41
    and  B, A => 0x42
    and  B, C => 0x43
    and  B, D => 0x44
    and  C, A => 0x45
    and  C, B => 0x46
    and  C, D => 0x47
    and  D, A => 0x48
    and  D, B => 0x49
    and  D, C => 0x4a
    or  A, B => 0x4b
    or  A, C => 0x4c
    or  A, D => 0x4d
    or  B, A => 0x4e
    or  B, C => 0x4f
    or  B, D => 0x50
    or  C, A => 0x51
    or  C, B => 0x52
    or  C, D => 0x53
    or  D, A => 0x54
    or  D, B => 0x55
    or  D, C => 0x56
    xor  A, B => 0x57
    xor  A, C => 0x58
    xor  A, D => 0x59
    xor  B, A => 0x5a
    xor  B, C => 0x5b
    xor  B, D => 0x5c
    xor  C, A => 0x5d
    xor  C, B => 0x5e
    xor  C, D => 0x5f
    xor  D, A => 0x60
    xor  D, B => 0x61
    xor  D, C => 0x62
    not  A => 0x63
    not  B => 0x64
    not  C => 0x65
    not  D => 0x66
    clr  A => 0x67
    clr  B => 0x68
    clr  C => 0x69
    clr  D => 0x6a
    inc  A => 0x6b
    inc  B => 0x6c
    inc  C => 0x6d
    inc  D => 0x6e
    dec  A => 0x6f
    dec  B => 0x70
    dec  C => 0x71
    dec  D => 0x72
    shr  A => 0x73
    shr  B => 0x74
    shr  C => 0x75
    shr  D => 0x76
    ror  A => 0x77
    ror  B => 0x78
    ror  C => 0x79
    ror  D => 0x7a
    asr  A => 0x7b
    asr  B => 0x7c
    asr  C => 0x7d
    asr  D => 0x7e
    swap  A => 0x7f
    swap  B => 0x80
    swap  C => 0x81
    swap  D => 0x82
    cmp  A, B => 0x83
    cmp  A, C => 0x84
    cmp  A, D => 0x85
    cmp  B, A => 0x86
    cmp  B, C => 0x87
    cmp  B, D => 0x88
    cmp  C, A => 0x89
    cmp  C, B => 0x8a
    cmp  C, D => 0x8b
    cmp  D, A => 0x8c
    cmp  D, B => 0x8d
    cmp  D, C => 0x8e
    mov  A, B => 0x8f
    mov  A, C => 0x90
    mov  A, D => 0x91
    mov  B, A => 0x92
    mov  B, C => 0x93
    mov  B, D => 0x94
    mov  C, A => 0x95
    mov  C, B => 0x96
    mov  C, D => 0x97
    mov  D, A => 0x98
    mov  D, B => 0x99
    mov  D, C => 0x9a
    out  {value0}, A => 0x9b @ value0`8
    out  {value0}, B => 0x9c @ value0`8
    out  {value0}, C => 0x9d @ value0`8
    out  {value0}, D => 0x9e @ value0`8
    in  A, {value1} => 0x9f @ value1`8
    in  B, {value1} => 0xa0 @ value1`8
    in  C, {value1} => 0xa1 @ value1`8
    in  D, {value1} => 0xa2 @ value1`8
    st  {address0}, A => 0xa3 @ address0[7:0] @ address0[15:8]
    st  {address0}, B => 0xa4 @ address0[7:0] @ address0[15:8]
    st  {address0}, C => 0xa5 @ address0[7:0] @ address0[15:8]
    st  {address0}, D => 0xa6 @ address0[7:0] @ address0[15:8]
    stx  {address0}[A], A => 0xa7 @ address0[7:0] @ address0[15:8]
    stx  {address0}[A], B => 0xa8 @ address0[7:0] @ address0[15:8]
    stx  {address0}[A], C => 0xa9 @ address0[7:0] @ address0[15:8]
    stx  {address0}[A], D => 0xaa @ address0[7:0] @ address0[15:8]
    stx  {address0}[B], A => 0xab @ address0[7:0] @ address0[15:8]
    stx  {address0}[B], B => 0xac @ address0[7:0] @ address0[15:8]
    stx  {address0}[B], C => 0xad @ address0[7:0] @ address0[15:8]
    stx  {address0}[B], D => 0xae @ address0[7:0] @ address0[15:8]
    stx  {address0}[C], A => 0xaf @ address0[7:0] @ address0[15:8]
    stx  {address0}[C], B => 0xb0 @ address0[7:0] @ address0[15:8]
    stx  {address0}[C], C => 0xb1 @ address0[7:0] @ address0[15:8]
    stx  {address0}[C], D => 0xb2 @ address0[7:0] @ address0[15:8]
    stx  {address0}[D], A => 0xb3 @ address0[7:0] @ address0[15:8]
    stx  {address0}[D], B => 0xb4 @ address0[7:0] @ address0[15:8]
    stx  {address0}[D], C => 0xb5 @ address0[7:0] @ address0[15:8]
    stx  {address0}[D], D => 0xb6 @ address0[7:0] @ address0[15:8]
    ld  A, {address1} => 0xb7 @ address1[7:0] @ address1[15:8]
    ld  B, {address1} => 0xb8 @ address1[7:0] @ address1[15:8]
    ld  C, {address1} => 0xb9 @ address1[7:0] @ address1[15:8]
    ld  D, {address1} => 0xba @ address1[7:0] @ address1[15:8]
    ldx  A, {address1}[A] => 0xbb @ address1[7:0] @ address1[15:8]
    ldx  A, {address1}[B] => 0xbc @ address1[7:0] @ address1[15:8]
    ldx  A, {address1}[C] => 0xbd @ address1[7:0] @ address1[15:8]
    ldx  A, {address1}[D] => 0xbe @ address1[7:0] @ address1[15:8]
    ldx  B, {address1}[A] => 0xbf @ address1[7:0] @ address1[15:8]
    ldx  B, {address1}[B] => 0xc0 @ address1[7:0] @ address1[15:8]
    ldx  B, {address1}[C] => 0xc1 @ address1[7:0] @ address1[15:8]
    ldx  B, {address1}[D] => 0xc2 @ address1[7:0] @ address1[15:8]
    ldx  C, {address1}[A] => 0xc3 @ address1[7:0] @ address1[15:8]
    ldx  C, {address1}[B] => 0xc4 @ address1[7:0] @ address1[15:8]
    ldx  C, {address1}[C] => 0xc5 @ address1[7:0] @ address1[15:8]
    ldx  C, {address1}[D] => 0xc6 @ address1[7:0] @ address1[15:8]
    ldx  D, {address1}[A] => 0xc7 @ address1[7:0] @ address1[15:8]
    ldx  D, {address1}[B] => 0xc8 @ address1[7:0] @ address1[15:8]
    ldx  D, {address1}[C] => 0xc9 @ address1[7:0] @ address1[15:8]
    ldx  D, {address1}[D] => 0xca @ address1[7:0] @ address1[15:8]
    tstx  {address0}[A] => 0xcb @ address0[7:0] @ address0[15:8]
    tstx  {address0}[B] => 0xcc @ address0[7:0] @ address0[15:8]
    tstx  {address0}[C] => 0xcd @ address0[7:0] @ address0[15:8]
    tstx  {address0}[D] => 0xce @ address0[7:0] @ address0[15:8]
    ljmp  {address0} => 0xcf @ address0[7:0] @ address0[15:8]
    beql  {address0} => 0xd0 @ address0[7:0] @ address0[15:8]
    bnel  {address0} => 0xd1 @ address0[7:0] @ address0[15:8]
    bcsl  {address0} => 0xd2 @ address0[7:0] @ address0[15:8]
    bccl  {address0} => 0xd3 @ address0[7:0] @ address0[15:8]
    bmil  {address0} => 0xd4 @ address0[7:0] @ address0[15:8]
    bpll  {address0} => 0xd5 @ address0[7:0] @ address0[15:8]
    push  A => 0xd6
    push  B => 0xd7
    push  C => 0xd8
    push  D => 0xd9
    pushf   => 0xda
    push  LR => 0xdb
    pop  A => 0xdc
    pop  B => 0xdd
    pop  C => 0xde
    pop  D => 0xdf
    popf   => 0xe0
    pop  LR => 0xe1
    callf  {address0} => 0xe2 @ address0[7:0] @ address0[15:8]
    ret   => 0xe3
    brk   => 0xe4
    lea  SP, {address1} => 0xe5 @ address1[7:0] @ address1[15:8]
    ldr  A, SP, {value2} => 0xe6 @ value2`8
    ldr  B, SP, {value2} => 0xe7 @ value2`8
    ldr  C, SP, {value2} => 0xe8 @ value2`8
    ldr  D, SP, {value2} => 0xe9 @ value2`8
    str  SP, {value1}, A => 0xea @ value1`8
    str  SP, {value1}, B => 0xeb @ value1`8
    str  SP, {value1}, C => 0xec @ value1`8
    str  SP, {value1}, D => 0xed @ value1`8
    rjmp  {value0} => 0xef @ value0`8
    beqr  {value0} => 0xf0 @ value0`8
    bner  {value0} => 0xf1 @ value0`8
    bcsr  {value0} => 0xf2 @ value0`8
    bccr  {value0} => 0xf3 @ value0`8
    bmir  {value0} => 0xf4 @ value0`8
    bplr  {value0} => 0xf5 @ value0`8
    rcall  {value0} => 0xf6 @ value0`8
    lcmp  A, B => 0xf7
    lcmp  A, C => 0xf8
    lcmp  A, D => 0xf9
    lcmp  B, A => 0xfa
    lcmp  B, C => 0xfb
    lcmp  B, D => 0xfc
    lcmp  C, A => 0xfd
    lcmp  C, B => 0xfe
    lcmp  C, D => 0xff
    lcmp  D, A => 0xee @ 0x00
    lcmp  D, B => 0xee @ 0x01
    lcmp  D, C => 0xee @ 0x02
    lpi  A, (SDP++) => 0xee @ 0x03
    lpi  B, (SDP++) => 0xee @ 0x04
    lpi  C, (SDP++) => 0xee @ 0x05
    lpi  D, (SDP++) => 0xee @ 0x06
    lea  SDP, {address1} => 0xee @ 0x07 @ address1[7:0] @ address1[15:8]
    padding25   => 0xee @ 0x08
    addi  A, {value1} => 0xee @ 0x09 @ value1`8
    addi  B, {value1} => 0xee @ 0x0a @ value1`8
    addi  C, {value1} => 0xee @ 0x0b @ value1`8
    addi  D, {value1} => 0xee @ 0x0c @ value1`8
    dummyext  {value0} => 0xee @ 0x0d @ value0`8
    adci  A, {value1} => 0xee @ 0x0e @ value1`8
    adci  B, {value1} => 0xee @ 0x0f @ value1`8
    adci  C, {value1} => 0xee @ 0x10 @ value1`8
    adci  D, {value1} => 0xee @ 0x11 @ value1`8
    subi  A, {value1} => 0xee @ 0x12 @ value1`8
    subi  B, {value1} => 0xee @ 0x13 @ value1`8
    subi  C, {value1} => 0xee @ 0x14 @ value1`8
    subi  D, {value1} => 0xee @ 0x15 @ value1`8
    cmpi  A, {value1} => 0xee @ 0x16 @ value1`8
    cmpi  B, {value1} => 0xee @ 0x17 @ value1`8
    cmpi  C, {value1} => 0xee @ 0x18 @ value1`8
    cmpi  D, {value1} => 0xee @ 0x19 @ value1`8
    sbbi  A, {value1} => 0xee @ 0x1a @ value1`8
    sbbi  B, {value1} => 0xee @ 0x1b @ value1`8
    sbbi  C, {value1} => 0xee @ 0x1c @ value1`8
    sbbi  D, {value1} => 0xee @ 0x1d @ value1`8
    andi  A, {value1} => 0xee @ 0x1e @ value1`8
    andi  B, {value1} => 0xee @ 0x1f @ value1`8
    andi  C, {value1} => 0xee @ 0x20 @ value1`8
    andi  D, {value1} => 0xee @ 0x21 @ value1`8
    ori  A, {value1} => 0xee @ 0x22 @ value1`8
    ori  B, {value1} => 0xee @ 0x23 @ value1`8
    ori  C, {value1} => 0xee @ 0x24 @ value1`8
    ori  D, {value1} => 0xee @ 0x25 @ value1`8
    xori  A, {value1} => 0xee @ 0x26 @ value1`8
    xori  B, {value1} => 0xee @ 0x27 @ value1`8
    xori  C, {value1} => 0xee @ 0x28 @ value1`8
    xori  D, {value1} => 0xee @ 0x29 @ value1`8
}
